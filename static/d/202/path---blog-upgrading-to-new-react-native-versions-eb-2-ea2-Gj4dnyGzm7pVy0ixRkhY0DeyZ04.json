{"data":{"markdownRemark":{"id":"54dbced0-6db3-5c92-b009-b7d212ee8da6","html":"<blockquote>\n<p><strong><em>TLDR;</em></strong> upgrade <code class=\"language-text\">react</code> , <code class=\"language-text\">react-native</code> dependency and handle <strong><em>Breaking Changes</em></strong> in <strong><em>Project Template</em></strong> (with <code class=\"language-text\">rn-diff-purge</code>), <strong><em>React Native API</em></strong> (with <code class=\"language-text\">react-native-release</code> changelog) and <strong><em>3rd-Party Library</em></strong></p>\n</blockquote>\n<h1>Upgrade React Native dependency</h1>\n<ul>\n<li>upgrade <code class=\"language-text\">react-native</code> version</li>\n<li>upgrade react version (also relative dependency such as <code class=\"language-text\">react-test-renderer</code>)\nuse react version the same version as <code class=\"language-text\">react-native</code> peerDependencies</li>\n</ul>\n<p>you can find the <code class=\"language-text\">react-native</code> peerDependencies via this link\n<a href=\"https://github.com/facebook/react-native/blob/0.xx-stable/package.json\">https://github.com/facebook/react-native/blob/0.xx-stable/package.json</a></p>\n<p>for example; version 0.59\n<a href=\"https://github.com/facebook/react-native/blob/0.59-stable/package.json\">https://github.com/facebook/react-native/blob/0.59-stable/package.json</a></p>\n<p>After upgrade React Native dependency, there are some changes that might cause the <strong><em>Breaking Changes</em></strong></p>\n<h1>Breaking Changes</h1>\n<p>Breaking Changes is the changes that not compatible with existing code</p>\n<p>Or simply said that application will stop working, if you not apply/follow this changes</p>\n<p>Breaking Changes can affect existing code in any files; JavaScript code, Native code [Java/Objective C], or config files</p>\n<p>You should check/concern about Breaking Changes in these sections</p>\n<p>Project Template, React Native API and 3rd-party Library</p>\n<h1>Project Template</h1>\n<p>Project Template is</p>\n<blockquote>\n<p>files that are normally generated when you run <code class=\"language-text\">react-native init</code>, like the iOS and the Android sub-projects.</p>\n<p>(<a href=\"https://facebook.github.io/react-native/docs/upgrading#2-upgrade-your-project-templates\">https://facebook.github.io/react-native/docs/upgrading#2-upgrade-your-project-templates</a>)</p>\n</blockquote>\n<h2>Upgrade with react-native-cli</h2>\n<p><strong><em>command-line</em></strong> that will automatically upgrade the files, with following condition.</p>\n<blockquote>\n<p>If there is a new file in the template, it is simply created.</p>\n<p>If a file in the template is identical to your file, it is skipped.</p>\n<p>If a file is different in your project than the template, you will be prompted; you have options to keep your file or overwrite it with the template version.</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">react-native upgrade\n# for latest version\n\nreact-native upgrade 0.59.0\n# for specific version`</code></pre></div>\n<h2>Upgrade with rn-diff-purge [recommended]</h2>\n<p><strong><em>repo</em></strong> that diff <strong><em>Project Template</em></strong> files between current and target version, So you can manually apply the changes.</p>\n<p><a href=\"https://github.com/react-native-community/rn-diff-purge/compare/version/0.xx.x...version/0.yy.y\">https://github.com/react-native-community/rn-diff-purge/compare/version/0.xx.x…version/0.yy.y</a></p>\n<p>for example; 0.57.5 to 0.59.0</p>\n<p><a href=\"https://github.com/react-native-community/rn-diff-purge/compare/version/0.57.5...version/0.59.0\">https://github.com/react-native-community/rn-diff-purge/compare/version/0.57.5…version/0.59.0</a></p>\n<h1>React Native API</h1>\n<p>Look at <strong><em>react-native-release</em></strong>’s changelog\n(<a href=\"https://github.com/react-native-community/react-native-releases/blob/master/CHANGELOG.md\">https://github.com/react-native-community/react-native-releases/blob/master/CHANGELOG.md</a>)</p>\n<p>Under <code class=\"language-text\">react-native</code> between current and target version, search for word <strong><em><code class=\"language-text\">BREAKING</code></em></strong> or <code class=\"language-text\">Breaking</code></p>\n<p><strong><em>Tips</em></strong>: Replace multiple code changes with <strong><em>regex</em></strong> is the best way</p>\n<h1>3rd-party Library</h1>\n<p>Basically, if there is a new release of <code class=\"language-text\">react-native</code> version, 3rd-party library will update own library to follow new React Native API, So it may also change the library API.</p>\n<p>So upgrade library to match target <code class=\"language-text\">react-native</code> version and follow an instruction is enough.</p>\n<p>But, if use the library is still found the error, So you need to check the library repo’s issues section and apply the workaround by yourself</p>\n<p><strong><em>Tips</em></strong>: If you want to manually patch/fix the library, I recommended to use patch-package, it’s more easily than entirely fork the library, but have to commit the patches files instead</p>\n<h1>References</h1>\n<p><a href=\"https://facebook.github.io/react-native/docs/upgrading\">Upgrading to new React Native versions</a></p>\n<p><a href=\"https://github.com/react-native-community/rn-diff-purge\">rn-diff-purge</a></p>\n<p><a href=\"https://github.com/react-native-community/react-native-releases/blob/master/CHANGELOG.md\">react-native-release changelog</a></p>\n<p><a href=\"https://github.com/ds300/patch-package\">patch-package</a></p>","timeToRead":3,"frontmatter":{"title":"Upgrading to new React Native versions","date":"March 15, 2019","tag":"Code","description":"TLDR; upgrade react , react-native dependency and handle Breaking Changes in Project Template (with rn-diff-purge), React Native API (with react-native-release changelog) and 3rd-Party Library"}}},"pageContext":{"slug":"/upgrading-to-new-react-native-versions/","previous":null,"next":null}}